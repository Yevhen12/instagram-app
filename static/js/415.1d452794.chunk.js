"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[415,697],{3697:function(e,t,s){s.r(t);var r=s(2791),a=s(184),n=function(){return(0,a.jsx)("h1",{className:"text-center text-[50px] font-bold mt-[100px]",children:"Not Found!"})};t.default=r.memo(n)},6415:function(e,t,s){s.r(t),s.d(t,{default:function(){return R}});var r=s(5861),a=s(885),n=s(7757),c=s.n(n),i=s(2791),l=s(4229),o=s(6030),d=s(6871),m=s(2539),u=s(1413),x=s(5725),p=s(3437),f=s(4453),h=s(4592),j=s(9062),g=s(184),b=function(e){var t=e.activeModal,s=e.setActiveModal,a=e.setIsLoading,n=(0,i.useContext)(x._).setFirestoreCurrentUser,l=(0,o.v9)((function(e){return e.userReducer.user})),d=(0,o.I0)(),m=function(){var e=(0,r.Z)(c().mark((function e(t){var r,i,o,m,x,g,b;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),s(!1),r=h.I8.currentUser,i=r.uid,o=t.target.files[0],m="/images/".concat(i,"/avatar/").concat(o.name),x=(0,f.iH)(h.tO,m),!l.imageUrl){e.next=10;break}return e.next=10,(0,f.oq)((0,f.iH)(h.tO,l.imageUrl));case 10:return e.next=12,(0,f.KV)(x,o);case 12:return e.next=14,(0,f.Jt)((0,f.iH)(h.tO,m));case 14:return g=e.sent,b=(0,j.JU)(h.db,"users","".concat(r.uid)),e.next=18,(0,j.r7)(b,{imageUrl:"".concat(g)});case 18:n((0,u.Z)((0,u.Z)({},l),{},{imageUrl:g})),d((0,p.a)((0,u.Z)((0,u.Z)({},l),{},{imageUrl:g}))),a(!1);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),e.next=3,(0,f.oq)((0,f.iH)(h.tO,l.imageUrl));case 3:return t=(0,j.JU)(h.db,"users","".concat(l.uid)),e.next=6,(0,j.r7)(t,{imageUrl:""});case 6:n((0,u.Z)((0,u.Z)({},l),{},{imageUrl:""})),d((0,p.a)((0,u.Z)((0,u.Z)({},l),{},{imageUrl:""})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){s(!1)};return(0,g.jsx)("div",{onClick:v,className:"w-full h-full bg-black/60 fixed top-0 left-0 flex justify-center items-center z-20 duration-300 px-3 ".concat(t?"opacity-1 pointer-events-auto":"opacity-0 pointer-events-none"),children:(0,g.jsxs)("div",{onClick:function(e){return e.stopPropagation()},className:"bg-white w-[400px]  rounded-xl duration-300  ".concat(t?"scale-100":"scale-50"),children:[(0,g.jsx)("div",{className:"pt-7 pb-7 border-b",children:(0,g.jsx)("p",{className:"text-lg font-semibold text-center",children:"Change profile photo"})}),(0,g.jsxs)("label",{className:"cursor-pointer w-full pt-3 pb-3 text-sm font-bold text-sky-600 block text-center",children:["Upload Photo",(0,g.jsx)("input",{type:"file",onChange:m,className:"hidden"})]}),(0,g.jsx)("button",{disabled:!l.imageUrl,className:"w-full pt-3 pb-3 text-sm font-bold text-red-500 border-t ".concat(!l.imageUrl&&"cursor-not-allowed text-red-200"),onClick:b,children:"Remove current photo"}),(0,g.jsx)("button",{className:"w-full pt-3 pb-3 text-sm border-t",onClick:v,children:"Cancel"})]})})},v=i.memo(b),N=s(3504),y=s(519),w=s(9617),k=function(){var e=(0,i.useState)(!1),t=(0,a.Z)(e,2),s=t[0],r=t[1],n=(0,o.v9)((function(e){return e.userReducer.user})),c=(0,d.TH)(),l=(0,i.useState)(!1),m=(0,a.Z)(l,2),u=m[0],x=m[1];console.log(c);return(0,g.jsx)(g.Fragment,{children:n.displayName&&(0,g.jsx)("section",{className:"flex justify-center",children:(0,g.jsxs)("div",{className:"container max-w-5xl mt-7 relative pl-5 pr-5 flex flex-col",children:[(0,g.jsxs)("div",{className:"w-full flex mb-10 md:flex-row flex-col justify-center",children:[(0,g.jsxs)("div",{className:"md:max-w-[18rem] w-full md:min-w-[12rem] flex justify-center mr-5 mb-5",children:[(0,g.jsx)("button",{className:"rounded-full border overflow-hidden",onClick:function(){r(!0)},children:(0,g.jsxs)("div",{className:"w-36 h-36 relative",children:[(0,g.jsx)("img",{className:"w-full h-full object-cover ".concat(u&&"opacity-45"),src:"".concat(n.imageUrl?n.imageUrl:"/instagram-app/images/standart-profile.png")}),u&&(0,g.jsx)("div",{className:"absolute top-16 left-16",children:(0,g.jsx)(w.Z,{height:23,width:23})})]})}),(0,g.jsx)(v,{activeModal:s,setActiveModal:r,setIsLoading:x})]}),(0,g.jsxs)("div",{className:"w-full flex flex-col md:items-start items-center",children:[(0,g.jsx)("div",{className:"flex items-start mb-8",children:(0,g.jsx)("p",{className:"font-thin text-3xl mr-5 ",children:n.displayName})}),(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsxs)("p",{className:"mr-10",children:[(0,g.jsx)("span",{className:"font-semibold",children:n.posts.length})," posts"]}),(0,g.jsx)(N.rU,{to:"".concat(y.HP),children:(0,g.jsxs)("p",{className:"font-semibold mr-10",children:[n.followers.length,(0,g.jsx)("span",{className:"font-normal",children:" followers"})]})}),(0,g.jsx)(N.rU,{to:"".concat(y.cd),children:(0,g.jsxs)("p",{className:"font-semibold",children:[n.following.length,(0,g.jsx)("span",{className:"font-normal",children:" following"})]})})]})]})]}),(0,g.jsxs)("div",{className:"border-t w-full flex justify-center",children:[(0,g.jsx)("div",{className:"mr-14 opacity-50 border-t active:opacity-25 ml-14 ".concat(c.pathname==="/"+n.displayName?"border-black opacity-100":"border-transparent"),"data-name":"posts",children:(0,g.jsx)(N.rU,{to:"".concat(y.vA),children:(0,g.jsxs)("div",{className:"h-12 flex justify-between items-center",children:[(0,g.jsx)("img",{className:"h-3 mr-2",src:"/instagram-app/images/grid-icon.png"}),(0,g.jsx)("p",{className:"text-xs tracking-widest font-medium",children:"POSTS"})]})})}),(0,g.jsx)("div",{className:"mr-14 opacity-50 border-t active:opacity-25 ".concat(c.pathname==="/"+n.displayName+"/saved"?"border-black opacity-100":"border-transparent"),"data-name":"saved",children:(0,g.jsx)(N.rU,{to:"".concat(y.si),children:(0,g.jsxs)("div",{className:"h-12 flex justify-between items-center",children:[(0,g.jsx)("img",{className:"h-3 mr-2",src:"/instagram-app/images/save-icon.png"}),(0,g.jsx)("p",{className:"text-xs tracking-widest font-medium",children:"SAVED"})]})})}),(0,g.jsx)("div",{className:"mr-14 opacity-50 border-t active:opacity-25 ".concat(c.pathname==="/"+n.displayName+"/tagged"?"border-black opacity-100":"border-transparent"),"data-name":"tagged",children:(0,g.jsx)(N.rU,{to:"".concat(y.LD),children:(0,g.jsxs)("div",{className:"h-12 flex justify-between items-center",children:[(0,g.jsx)("img",{className:"h-3 mr-2",src:"/instagram-app/images/mark-profile-icon.png"}),(0,g.jsx)("p",{className:"text-xs tracking-widest font-medium",children:"TAGGED"})]})})})]}),(0,g.jsx)(d.j3,{context:{posts:n.posts.sort((function(e,t){return t.uid-e.uid})),savedPosts:n.savedPosts.sort((function(e,t){return t.uid-e.uid}))}})]})})})},U=i.memo(k),Z=s(3697),C=s(4177),P=s(7934),F=s(795),M=s(6974),A=function(){var e=(0,o.v9)((function(e){return e.currentProfileUserReducer.user})),t=(0,o.v9)((function(e){return e.userReducer.user})),s=(0,o.v9)((function(e){return e.chatsReducer.chats})),n=(0,i.useState)(!1),l=(0,a.Z)(n,2),m=l[0],u=l[1],x=(0,M.Z)(s).createChat,p=(0,d.s0)(),f=(0,d.TH)(),h=e.imageUrl,j=e.name,b=e.uid,v=e.displayName,w=(0,F.Z)({imageUrl:h,name:j,uid:b,displayName:v}).hendleFollow;console.log(e);var k=e.followers&&e.followers.find((function(e){return e.uid===t.uid})),U=function(){var t=(0,r.Z)(c().mark((function t(){var s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x([e]);case 2:s=t.sent,p("/direct/".concat(s));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,g.jsx)(g.Fragment,{children:e.displayName?(0,g.jsx)("section",{className:"flex justify-center",children:(0,g.jsxs)("div",{className:"container max-w-5xl mt-7 relative pl-5 pr-5 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex mb-10 md:flex-row flex-col",children:[(0,g.jsx)("div",{className:"md:max-w-[18rem] w-full md:min-w-[12rem] flex justify-center mr-5 mb-5",children:(0,g.jsx)("div",{className:"w-36 h-36 rounded-full border overflow-hidden",children:(0,g.jsx)("img",{className:"w-full h-full object-cover ",src:"".concat(e.imageUrl?e.imageUrl:"/instagram-app/images/standart-profile.png"),alt:"profilePhoto"})})}),(0,g.jsxs)("div",{className:"w-full",children:[(0,g.jsxs)("div",{className:"flex items-center mb-8 w-full md:justify-start justify-center",children:[(0,g.jsx)("p",{className:"font-thin text-3xl mr-7 mt-0 pt-0 mb-1 ml-10",children:e.displayName}),k?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{className:"active:opacity-60 border rounded rounded-[0.15] px-2.5 py-1.5 text-sm font-semibold mr-2 bg-transparent text-black ",type:"button",onClick:U,children:"Message"}),(0,g.jsx)("button",{className:"active:opacity-60 border rounded rounded-[0.15] px-[0.7rem] py-1.5 text-sm font-semibold mr-2 bg-transparent text-black ",type:"button",onClick:function(){return u(!0)},children:(0,g.jsx)("img",{className:"w-5 h-5",src:"/instagram-app/images/checked-user.png",alt:"checked-user"})}),(0,g.jsx)(C.Z,{activeModal:m,setActiveModal:u,styleForContainerBlock:"fixed w-screen h-screen top-0 left-0 right-0 flex justify-center items-center z-20 cursor-default bg-black/60 duration-300",children:(0,g.jsx)(P.Z,{activeModal:m,imageUrl:e.imageUrl,displayName:e.displayName,name:e.name,uid:e.uid,setActiveModal:u})})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{className:"active:opacity-60 border rounded rounded-[0.15] px-2.5 py-1.5 text-sm font-semibold mr-2 bg-transparent text-black ",type:"button",onClick:U,children:"Message"}),(0,g.jsx)("button",{className:"active:opacity-60 rounded rounded-[0.15] px-4 py-1.5 text-sm font-semibold mr-2 bg-[#0195f6] text-white ",type:"button",onClick:function(){u(!1),w()},children:"Follow"})]})]}),(0,g.jsxs)("div",{className:"flex items-center md:justify-start justify-center",children:[(0,g.jsx)("div",{className:"mr-10 ml-10",children:(0,g.jsxs)("p",{children:[(0,g.jsxs)("span",{className:"font-semibold",children:[e.posts.length," "]}),"posts"]})}),(0,g.jsx)("div",{className:"mr-10",children:(0,g.jsx)(N.rU,{to:"".concat(y.HP),children:(0,g.jsxs)("p",{className:"cursor-pointer",children:[(0,g.jsx)("span",{className:"font-semibold",children:e.followers.length})," followers"]})})}),(0,g.jsx)("div",{className:"mr-10",children:(0,g.jsx)(N.rU,{to:"".concat(y.cd),children:(0,g.jsxs)("p",{className:"cursor-pointer",children:[(0,g.jsx)("span",{className:"font-semibold",children:e.following.length})," following"]})})})]})]})]}),(0,g.jsxs)("div",{className:"border-t w-full flex justify-center",children:[(0,g.jsx)("div",{className:"mr-14 ml-14 opacity-50 border-t active:opacity-25 ".concat(f.pathname==="/"+e.displayName?"border-black opacity-100":"border-transparent"),"data-name":"posts",children:(0,g.jsx)(N.rU,{to:"".concat(y.vA),children:(0,g.jsxs)("div",{className:"h-12 flex justify-between items-center",children:[(0,g.jsx)("img",{className:"h-3 mr-2",src:"/instagram-app/images/grid-icon.png",alt:"grid"}),(0,g.jsx)("p",{className:"text-xs tracking-widest font-medium",children:"POSTS"})]})})}),(0,g.jsx)("div",{className:"mr-14 opacity-50 border-t active:opacity-25 ".concat(f.pathname==="/"+e.displayName+"/tagged"?"border-black opacity-100":"border-transparent"),"data-name":"tagged",children:(0,g.jsx)(N.rU,{to:"".concat(y.LD),children:(0,g.jsxs)("div",{className:"h-12 flex justify-between items-center",children:[(0,g.jsx)("img",{className:"h-3 mr-2",src:"/instagram-app/images/mark-profile-icon.png",alt:"profile"}),(0,g.jsx)("p",{className:"text-xs tracking-widest font-medium",children:"TAGGED"})]})})})]}),(0,g.jsx)(d.j3,{context:{posts:e.posts.sort((function(e,t){return t.uid-e.uid}))}})]})}):(0,g.jsx)(Z.default,{})})},S=i.memo(A),H=s(4216),O=function(){var e=(0,d.UO)().user,t=(0,o.v9)((function(e){return e.userReducer.user})),s=(0,o.v9)((function(e){return e.currentProfileUserReducer.user})),n=(0,i.useState)(!1),u=(0,a.Z)(n,2),x=u[0],p=u[1],f=(0,o.I0)();(0,i.useEffect)((function(){p(!0);var t=function(){var t=(0,r.Z)(c().mark((function t(){var s,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=(0,j.hJ)(h.db,"users"),r=(0,j.IO)(s,(0,j.ar)("displayName","==","".concat(e))),console.log(e),t.next=5,(0,j.PL)(r);case 5:t.sent.forEach((function(e){f((0,m.l)(e.data()))})),p(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),console.log("changed")}),[e]);var b=t.uid!==s.uid;return(0,g.jsx)(g.Fragment,{children:x?(0,g.jsx)(H.Z,{}):b||e===t.displayName?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.Z,{}),b?(0,g.jsx)(S,{}):(0,g.jsx)(U,{})]}):(0,g.jsx)(Z.default,{})})},R=i.memo(O)}}]);
//# sourceMappingURL=415.1d452794.chunk.js.map