"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[446],{6495:function(e,t,n){var r=n(5861),s=n(885),a=n(7757),c=n.n(a),i=n(2791),u=n(6030),o=n(9062),l=n(4592);t.Z=function(){var e=(0,u.v9)((function(e){return e.userReducer.user})),t=(0,i.useState)(),n=(0,s.Z)(t,2),a=(n[0],n[1]),d=function(){var t=(0,r.Z)(c().mark((function t(){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.JU)(l.db,"users",e.uid),t.next=3,(0,o.QT)(n);case 3:r=t.sent,a(r.data());case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(c().mark((function t(n){var r,s,a,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:return r=(0,o.hJ)(l.db,"users"),t.next=5,(0,o.PL)(r);case 5:return s=t.sent,console.log(s.docs),a=s.docs.map((function(e){return e.data()})),i=a.filter((function(t){return t.uid!==e.uid&&e.following.every((function(e){return e.uid!==t.uid}))})).slice(0,n).sort((function(){return.5-Math.random()})),t.abrupt("return",i);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{fetchUsers:f}}},8854:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(2791),s=n(1413),a=n(5861),c=n(885),i=n(7757),u=n.n(i),o=n(3504),l=n(528),d=n(6030),f=n(795),m=n(7934),x=n(4177),p=n(184),h=function(e){var t=e.displayName,n=e.uid,s=e.imageUrl,a=e.name,i=(0,r.useState)(!1),u=(0,c.Z)(i,2),h=u[0],v=u[1],g=(0,f.Z)({displayName:t,uid:n,imageUrl:s,name:a}).hendleFollow,j=(0,d.v9)((function(e){return e.userReducer.user})),w=j.following&&j.following.find((function(e){return e.displayName===t}));return(0,p.jsxs)("div",{className:"flex justify-between items-center w-full px-5 py-1.5",children:[(0,p.jsx)(o.rU,{to:l.Sd+t,children:(0,p.jsx)("div",{className:"rounded-full w-[44px] mr-4 overflow-hidden",children:(0,p.jsx)("img",{alt:"userImage",src:"".concat(s||"/instagram-app/images/standart-profile.png"),className:"h-[44px] object-cover"})})}),(0,p.jsxs)("div",{className:"flex flex-col w-full",children:[(0,p.jsx)(o.rU,{to:l.Sd+t,children:(0,p.jsx)("p",{className:"text-sm font-semibold ",children:t})}),(0,p.jsx)("p",{className:"text-sm text-gray-500/80",children:a}),(0,p.jsx)("p",{className:"text-[10px] text-gray-500/80",children:"Suggested for you"})]}),w?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{type:"button",onClick:function(){return v(!0)},className:"active:opacity-60 text-sm font-semibold border px-3.5 py-1",children:"Following"}),(0,p.jsx)(x.Z,{activeModal:h,setActiveModal:v,styleForContainerBlock:"fixed w-screen h-screen top-0 left-0 right-0 flex justify-center items-center z-10 cursor-default bg-black/60 duration-300",children:(0,p.jsx)(m.Z,{activeModal:h,imageUrl:s,displayName:t,name:a,uid:n,setActiveModal:v})})]}):(0,p.jsx)("button",{type:"button",onClick:function(){return g()},className:"active:opacity-60 text-white text-sm px-6 py-1.5 bg-[#0195f6] rounded font-semibold",children:"Follow"})]})},v=r.memo(h),g=n(6495),j=function(){var e=(0,r.useState)([]),t=(0,c.Z)(e,2),n=t[0],i=t[1],o=(0,g.Z)().fetchUsers;(0,r.useEffect)((function(){var e=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(35);case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var l=(0,r.useMemo)((function(){return n.map((function(e){return(0,p.jsx)(v,(0,s.Z)({},e),e.uid)}))}),[n]);return(0,p.jsx)("div",{className:"max-w-[600px] w-full bg-whiteflex flex-col items-center border mt-3 py-3 rounded",children:l})},w=r.memo(j),y=function(){return(0,p.jsxs)("section",{className:"flex flex-col items-center px-2",children:[(0,p.jsx)("div",{className:"max-w-[600px] w-full mt-5",children:(0,p.jsx)("p",{className:"font-semibold",children:"Suggestions For You"})}),(0,p.jsx)(w,{})]})},b=r.memo(y)},2446:function(e,t,n){n.r(t);var r=n(2791),s=n(4229),a=n(8854),c=n(184),i=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.Z,{}),(0,c.jsx)(a.Z,{})]})};t.default=r.memo(i)}}]);
//# sourceMappingURL=446.a0115143.chunk.js.map