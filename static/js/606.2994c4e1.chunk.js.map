{"version":3,"file":"static/js/606.2994c4e1.chunk.js","mappings":"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","sources":["pages/Direct/Modals/NewMessageModal.js","pages/Direct/Items/UserItem.js","pages/Direct/Items/SkeletonItem.js","pages/Direct/Direct.js","pages/NotFound/NotFound.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/react-loading-skeleton/dist/index.mjs"],"sourcesContent":["import React, { useCallback, useMemo, useState } from \"react\";\r\nimport ReusebleModal from \"../../../components/Modals/ReusebleModal\";\r\nimport useSearch from \"../../../hooks/useSearch\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport useChat from \"../../../hooks/useChat\";\r\n\r\nconst NewMessageModal = ({ activeModal, setActiveModal }) => {\r\n    const [text, setText] = useState('')\r\n    const [usersFound, setUsersFound] = useState([])\r\n    const [selectedUsers, setSelectedUsers] = useState([])\r\n    const { searchUsers } = useSearch()\r\n    const chatsArray = useSelector((state) => state.chatsReducer.chats)\r\n\r\n    console.log('New')\r\n\r\n    const {createChat} = useChat(chatsArray)\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const changeText = useCallback(async (e) => {\r\n        const { value } = e.target\r\n        setText(value)\r\n        setUsersFound(await searchUsers(value))\r\n    }, [])\r\n\r\n    const addToSelectedUsers = useCallback((user) => {\r\n        setSelectedUsers(prevSelectedUsers => [...prevSelectedUsers, user])\r\n        setText('')\r\n    }, [])\r\n    const deleteSelectedUser = useCallback((user) => {\r\n        const filteredArray = selectedUsers.filter(elem => elem.uid !== user.uid)\r\n        setSelectedUsers([...filteredArray])\r\n    }, [])\r\n\r\n    const closeModal = useCallback(() => {\r\n        setActiveModal(false)\r\n        setUsersFound([])\r\n        setSelectedUsers([])\r\n        setText('')\r\n    }, [])\r\n\r\n    const addChat = async (usersArray) => {\r\n\r\n        const key = await createChat(usersArray)\r\n\r\n        navigate(`/direct/${key}`)\r\n\r\n        setActiveModal(false)\r\n        setUsersFound([])\r\n        setSelectedUsers([])\r\n        setText('')\r\n    }\r\n\r\n    const mapUsersFound = useMemo(() => usersFound.map((elem) => {\r\n            const findUser = selectedUsers.length > 0 ? selectedUsers.find(user => user.uid === elem.uid) : false\r\n            return (\r\n                <li key={elem.uid} className=\"py-1.5 pl-4 hover:bg-gray-100/50 cursor-pointer\" onClick={() => findUser ? deleteSelectedUser(elem) : addToSelectedUsers(elem)}>\r\n                    <div className=\"flex justify-start items-center\">\r\n                        <div className=\"w-[2.75rem] h-[2.75rem] rounded-full overflow-hidden mt-1\">\r\n                            <img\r\n                                className=\"w-full h-full object-cover\"\r\n                                src={`${elem.imageUrl ? elem.imageUrl : '/images/standart-profile.png'}`}\r\n                                alt=\"UserPhoto\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"w-[15rem] ml-3\">\r\n                            <p className=\"font-semibold text-sm\">\r\n                                {elem.displayName}\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"relative\">\r\n                            <img src={`${(findUser) ? '/images/circle-full-blue-icon.png' : '/images/circle-contor.png'}`} className='h-6 w-6 ml-5' />\r\n                            {\r\n                                findUser && <img src='/images/check-white-icon.png' className='absolute h-5 w-5 top-0.5 right-0.5' />\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            )\r\n        }), [usersFound])\r\n\r\n    const mapSelectedUsers = useMemo(() => (\r\n        selectedUsers.map(elem => {\r\n            return (\r\n                <div key={elem.uid} className=\"bg-[#0195f6]/10 flex items-center px-2 py-1 mt-2 mr-2 rounded cursor-pointer\" onClick={() => deleteSelectedUser(elem)}>\r\n                    <div type=\"button\" className=\" text-[#0195f6] rounded text-sm\">\r\n                        {elem.displayName}\r\n                    </div>\r\n                    <img src=\"/images/close-icon-blue.png\" className=\"w-3 h-3 ml-2 mt-0.5\"></img>\r\n                </div>\r\n            )\r\n        })\r\n    ), [selectedUsers]) \r\n\r\n    return (\r\n        <ReusebleModal\r\n            activeModal={activeModal}\r\n            setActiveModal={setActiveModal}\r\n            styleForContainerBlock='fixed w-screen h-screen top-0 left-0 right-0 flex justify-center items-center z-20 cursor-default bg-black/60 duration-300'\r\n            closeModal={closeModal}\r\n        >\r\n            <div\r\n                onClick={(e) => e.stopPropagation()}\r\n                className={`bg-white w-[400px] h-2/3 rounded-xl duration-300 flex flex-col ${activeModal ? 'scale-100' : 'scale-50'}`}\r\n            >\r\n                <div className=\"border-b px-4 py-2\">\r\n                    <div className=\"flex justify-between \">\r\n                        <button className=\"h-3.5 w-3.5 mt-2\" onClick={() => closeModal()}>\r\n                            <img src=\"/images/close-icon.png\" />\r\n                        </button>\r\n                        <div>\r\n                            <p className=\"font-semibold\">New message</p>\r\n                        </div>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`${selectedUsers.length > 0 ? 'text-[#0195f6]' : 'text-[#0195f6]/30'} font-semibold text-sm`}\r\n                            disabled={selectedUsers.length > 0 ? false : true}\r\n                            onClick={() => addChat(selectedUsers)}\r\n                        >\r\n                            Next\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex px-4 min-h-[55px] max-h-[calc(50%-41px)] border-b overflow-y-scroll\">\r\n                    <p className=\"font-semibold mr-6 mt-3.5\">To: </p>\r\n                    <div style={{ wordWrap: 'normal' }} className=\"flex flex-row flex-wrap\">\r\n                        {selectedUsers.length > 0 && mapSelectedUsers}\r\n                        <input placeholder=\"Search...\" className=\"outline-none placeholder:text-sm placeholder:text-gray-300 text-sm w-[300px] my-3\" value={text} onChange={(e) => changeText(e)} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"rounded-xl overflow-y-scroll h-[calc(100%-96px)] w-full\">\r\n                    {text.length === 0 ?\r\n                        (\r\n                            <div className=\"px-4 mt-4\">\r\n                                <p className=\"font-semibold text-sm\">Suggested</p>\r\n                                <p className=\"text-gray-500 text-sm mt-7\">No account found.</p>\r\n                            </div>\r\n                        )\r\n                        :\r\n                        (\r\n                            mapUsersFound.length > 0 ?\r\n                                (\r\n                                    <ul className=\"mt-3\">\r\n                                        {mapUsersFound}\r\n                                    </ul>\r\n                                )\r\n                                :\r\n                                (\r\n                                    <p className=\"text-gray-500 text-sm mt-7 ml-4\">No account found.</p>\r\n                                )\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n            </div>\r\n        </ReusebleModal>\r\n    )\r\n}\r\n\r\nexport default React.memo(NewMessageModal)","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport convertUnixTime from \"../../../helpers/converUnixTime\";\r\n\r\nconst UserItem = ({chat, idx}) => {\r\n\r\n    const userRedux = useSelector(state => state.userReducer.user)\r\n    const location = useLocation()\r\n\r\n    const strangeUser = chat.users.find(elem => elem.uid !== userRedux.uid)\r\n    let currentTimeString = 'Now';\r\n    if (chat.messages.length > 0) {\r\n        currentTimeString = convertUnixTime(chat.messages[chat.messages.length - 1].uniqKey_time).split(' ')\r\n        console.log(currentTimeString[1])\r\n        if(currentTimeString[1] === 'Now') {\r\n            currentTimeString = 'Now'\r\n        } else {\r\n            currentTimeString = currentTimeString[0] + currentTimeString[1][0]\r\n        }\r\n    }\r\n\r\n    return (\r\n        <li className={`py-1.5 pl-4 hover:bg-gray-100/50 cursor-pointer ${location.pathname === `/direct/${chat.uid}` && 'bg-black/5 hover:bg-black/5 cursor-default'}`}>\r\n            <Link to={chat.uid} className={`${location.pathname === `/direct/${chat.uid}` && 'cursor-default'}`}>\r\n                <div className=\"flex justify-left items-center\">\r\n                    <div className=\"w-[3.5rem] h-[3.5rem] rounded-full overflow-hidden mt-1 mr-3\">\r\n                        <img\r\n                            className=\"w-full h-full object-cover\"\r\n                            src={`${strangeUser.imageUrl ? strangeUser.imageUrl : '/images/standart-profile.png'}`}\r\n                            alt=\"UserPhoto\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"w-[15.5rem] pr-5\">\r\n                        <p className=\"text-sm\">\r\n                            {strangeUser.displayName}\r\n                        </p>\r\n                        <div className=\"flex\">\r\n                            <p className=\"text-sm text-black/40 max-w-[115px] overflow-hidden mr-1\">{chat.messages.length > 0 && chat.messages[chat.messages.length - 1].text} </p>\r\n                            <p className=\"text-sm text-black/40 min-w-[30px]\"> · {currentTimeString}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default React.memo(UserItem)","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\n\r\nconst SkeletonItem = () => {\r\n    return (\r\n        <div className=\"flex pl-4 mt-2\">\r\n            <div>\r\n                <Skeleton circle width={56} height={56} />\r\n            </div>\r\n            <div>\r\n                <Skeleton width={100} height = {10} count = {2} containerClassName = 'flex flex-col items-center justify-center h-full ml-3' className=\"my-1\" />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(SkeletonItem)","import React, { useState, useEffect, useContext, useCallback, useMemo } from \"react\";\r\nimport Header from \"../../components/Header/Header\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport NewMessageModal from \"./Modals/NewMessageModal\";\r\nimport { Context } from \"../../context/firebaseContext\";\r\nimport { setChats } from \"../../redux/actions/chatsAction\";\r\nimport { Outlet, Link, useLocation, useParams } from \"react-router-dom\";\r\nimport NotFound from \"../NotFound/NotFound\";\r\nimport UserItem from \"./Items/UserItem\";\r\nimport SkeletonItem from \"./Items/SkeletonItem\";\r\nimport 'react-loading-skeleton/dist/skeleton.css'\r\nimport Loading from \"../../components/Loaders/Loaging\";\r\n\r\nconst Direct = () => {\r\n    const [activeModal, setActiveModal] = useState(false)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const userRedux = useSelector((state) => state.userReducer.user)\r\n    const chatsArray = useSelector((state) => state.chatsReducer.chats)\r\n    const { db, collection, getDocs } = useContext(Context)\r\n    const dispatch = useDispatch()\r\n    const location = useLocation()\r\n    const { chat } = useParams()\r\n\r\n    const isChat = chatsArray.find(elem => chat === elem.uid)\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        const getChats = async () => {\r\n            const querySnapshot = await getDocs(collection(db, \"chats\"));\r\n            const mapQuerySnapshot = querySnapshot.docs.map((doc) => {\r\n                return doc.data()\r\n            });\r\n            const filteredArray = mapQuerySnapshot.filter(elem => {\r\n                const mapUidUsers = elem.users.map(someUser => someUser.uid)\r\n                return mapUidUsers.includes(userRedux.uid)\r\n            })\r\n            dispatch(setChats(filteredArray))\r\n            setIsLoading(false)\r\n        }\r\n        getChats()\r\n    }, [userRedux.uid])\r\n\r\n    const sortChatsArray = chatsArray.sort((a, b) => {\r\n        if (!b.messages.length || !a.messages.length) return b.uid - a.uid\r\n        else return b.messages[b.messages.length - 1].uniqKey_time - a.messages[a.messages.length - 1].uniqKey_time\r\n    })\r\n\r\n    const openModal = useCallback(() => {\r\n        setActiveModal(true)\r\n    }, [])\r\n\r\n    const isCorrect = !isChat && location.pathname !== '/direct'\r\n\r\n    const mapChatsArray = useMemo(() => sortChatsArray.map((elem, idx) => <UserItem key={idx} chat={elem} />), [sortChatsArray])\r\n    const skeletonItems = Array(3).fill(0).map((_, idx) => <SkeletonItem key={idx} />)\r\n\r\n    const isSkeletonShowing = chatsArray.length === 0 || isLoading\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            {isCorrect ?\r\n                (\r\n                    <NotFound />\r\n                )\r\n                :\r\n                (\r\n                    <section className=\"flex justify-center\">\r\n                        <div className=\"container max-w-5xl pt-3 pb-5 h-[calc(100vh-65px)] pl-6 pr-7\">\r\n                            <div className=\"border w-full h-full rounded bg-white flex\">\r\n                                <div className={`sm:w-[350px] w-full ${isChat ? 'sm:block hidden' : 'block'}`}>\r\n                                    <div className=\"h-[60px] border-b border-r\">\r\n                                        <div className=\"h-[60px] flex justify-center items-center relative\">\r\n                                            <button type=\"button\" className=\"p-2\">\r\n                                                <div className=\"flex\">\r\n                                                    <div className=\"mr-1\">\r\n                                                        <p className=\"font-semibold\">{userRedux.displayName}</p>\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <img className=\"h-6 w-6\" src=\"/images/down-arrow.png\" />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </button>\r\n                                            <div className=\"mt-1.5 absolute top-3.5 right-3.5\">\r\n                                                <button type=\"button\">\r\n                                                    <img src=\"/images/new-message-icon.png\" className=\"w-5 h-5\" onClick={openModal} />\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"h-[calc(100%-60px)] border-r overflow-y-auto\">\r\n                                        <div>\r\n                                            <p className=\"font-semibold p-3\">Messages</p>\r\n                                            <ul className=\"flex flex-col\">\r\n                                                {\r\n                                                    isSkeletonShowing ?\r\n                                                        <>\r\n                                                            {skeletonItems}\r\n                                                            <div className=\"h-full justify-center flex items-center mt-8\">\r\n                                                                <Loading height={30} width={30} />\r\n                                                            </div>\r\n                                                        </>\r\n                                                        :\r\n                                                        mapChatsArray\r\n                                                }\r\n                                            </ul>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                {location.pathname === '/direct' ?\r\n                                    (\r\n                                        <div className=\"w-[calc(100%-350px)] hidden sm:block\">\r\n                                            <div className=\"h-full flex items-center justify-center flex-col\">\r\n                                                <div className=\"w-24 h-24\">\r\n                                                    <img src=\"/images/send-message-circle-icon.png\" />\r\n                                                </div>\r\n                                                <div className=\"mt-3\">\r\n                                                    <p className=\"font-light text-2xl\">Your Messages</p>\r\n                                                </div>\r\n                                                <div className=\"mt-2\">\r\n                                                    <p className=\"font-light text-sm text-gray-500 text-center\">Send private photos and messages to a friend or group.</p>\r\n                                                </div>\r\n                                                <button type=\"button\" className=\"rounded bg-[#0195f6] px-2.5 py-1.5 text-sm text-white font-semibold mt-5\" onClick={openModal}>\r\n                                                    Send Message\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                    :\r\n                                    (\r\n                                        <Outlet />\r\n                                    )\r\n                                }\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n                        <NewMessageModal\r\n                            activeModal={activeModal}\r\n                            setActiveModal={setActiveModal}\r\n                        />\r\n                    </section>\r\n                )\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Direct)","import React from \"react\";\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <h1>Not Found</h1>\r\n    )\r\n}\r\n\r\nexport default React.memo(NotFound)","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from 'react';\n\n/**\n * @internal\n */\nconst SkeletonThemeContext = React.createContext({});\n\n/* eslint-disable react/no-array-index-key */\nconst defaultEnableAnimation = true;\n// For performance & cleanliness, don't add any inline styles unless we have to\nfunction styleOptionsToCssProperties({ baseColor, highlightColor, width, height, borderRadius, circle, direction, duration, enableAnimation = defaultEnableAnimation, }) {\n    const style = {};\n    if (direction === 'rtl')\n        style['--animation-direction'] = 'reverse';\n    if (typeof duration === 'number')\n        style['--animation-duration'] = `${duration}s`;\n    if (!enableAnimation)\n        style['--pseudo-element-display'] = 'none';\n    if (typeof width === 'string' || typeof width === 'number')\n        style.width = width;\n    if (typeof height === 'string' || typeof height === 'number')\n        style.height = height;\n    if (typeof borderRadius === 'string' || typeof borderRadius === 'number')\n        style.borderRadius = borderRadius;\n    if (circle)\n        style.borderRadius = '50%';\n    if (typeof baseColor !== 'undefined')\n        style['--base-color'] = baseColor;\n    if (typeof highlightColor !== 'undefined')\n        style['--highlight-color'] = highlightColor;\n    return style;\n}\nfunction Skeleton({ count = 1, wrapper: Wrapper, className: customClassName, containerClassName, containerTestId, circle = false, style: styleProp, ...originalPropsStyleOptions }) {\n    var _a, _b, _c;\n    const contextStyleOptions = React.useContext(SkeletonThemeContext);\n    const propsStyleOptions = { ...originalPropsStyleOptions };\n    // DO NOT overwrite style options from the context if `propsStyleOptions`\n    // has properties explicity set to undefined\n    for (const [key, value] of Object.entries(originalPropsStyleOptions)) {\n        if (typeof value === 'undefined') {\n            delete propsStyleOptions[key];\n        }\n    }\n    // Props take priority over context\n    const styleOptions = {\n        ...contextStyleOptions,\n        ...propsStyleOptions,\n        circle,\n    };\n    // `styleProp` has the least priority out of everything\n    const style = {\n        ...styleProp,\n        ...styleOptionsToCssProperties(styleOptions),\n    };\n    let className = 'react-loading-skeleton';\n    if (customClassName)\n        className += ` ${customClassName}`;\n    const inline = (_a = styleOptions.inline) !== null && _a !== void 0 ? _a : false;\n    const elements = [];\n    const countCeil = Math.ceil(count);\n    for (let i = 0; i < countCeil; i++) {\n        let thisStyle = style;\n        if (countCeil > count && i === countCeil - 1) {\n            // count is not an integer and we've reached the last iteration of\n            // the loop, so add a \"fractional\" skeleton.\n            //\n            // For example, if count is 3.5, we've already added 3 full\n            // skeletons, so now we add one more skeleton that is 0.5 times the\n            // original width.\n            const width = (_b = thisStyle.width) !== null && _b !== void 0 ? _b : '100%'; // 100% is the default since that's what's in the CSS\n            const fractionalPart = count % 1;\n            const fractionalWidth = typeof width === 'number'\n                ? width * fractionalPart\n                : `calc(${width} * ${fractionalPart})`;\n            thisStyle = { ...thisStyle, width: fractionalWidth };\n        }\n        const skeletonSpan = (React.createElement(\"span\", { className: className, style: thisStyle, key: i }, \"\\u200C\"));\n        if (inline) {\n            elements.push(skeletonSpan);\n        }\n        else {\n            // Without the <br />, the skeleton lines will all run together if\n            // `width` is specified\n            elements.push(React.createElement(React.Fragment, { key: i },\n                skeletonSpan,\n                React.createElement(\"br\", null)));\n        }\n    }\n    return (React.createElement(\"span\", { className: containerClassName, \"data-testid\": containerTestId, \"aria-live\": \"polite\", \"aria-busy\": (_c = styleOptions.enableAnimation) !== null && _c !== void 0 ? _c : defaultEnableAnimation }, Wrapper\n        ? elements.map((el, i) => React.createElement(Wrapper, { key: i }, el))\n        : elements));\n}\n\nfunction SkeletonTheme({ children, ...styleOptions }) {\n    return (React.createElement(SkeletonThemeContext.Provider, { value: styleOptions }, children));\n}\n\nexport { SkeletonTheme, Skeleton as default };\n"],"names":["NewMessageModal","activeModal","setActiveModal","useState","text","setText","usersFound","setUsersFound","selectedUsers","setSelectedUsers","searchUsers","useSearch","chatsArray","useSelector","state","chatsReducer","chats","console","log","createChat","useChat","navigate","useNavigate","changeText","useCallback","e","value","target","addToSelectedUsers","user","prevSelectedUsers","deleteSelectedUser","filteredArray","filter","elem","uid","closeModal","addChat","usersArray","key","mapUsersFound","useMemo","map","findUser","length","find","className","onClick","src","imageUrl","alt","displayName","mapSelectedUsers","type","ReusebleModal","styleForContainerBlock","stopPropagation","disabled","style","wordWrap","placeholder","onChange","React","UserItem","chat","userRedux","idx","userReducer","location","useLocation","strangeUser","users","currentTimeString","messages","convertUnixTime","uniqKey_time","split","pathname","to","SkeletonItem","circle","width","height","count","containerClassName","Direct","isLoading","setIsLoading","useContext","Context","db","collection","getDocs","dispatch","useDispatch","useParams","isChat","useEffect","getChats","querySnapshot","mapQuerySnapshot","docs","doc","data","someUser","includes","setChats","sortChatsArray","sort","a","b","openModal","isCorrect","mapChatsArray","skeletonItems","Array","fill","_","isSkeletonShowing","Header","NotFound","source","excluded","i","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","SkeletonThemeContext","Skeleton","_a","_b","_c","Wrapper","wrapper","customClassName","containerTestId","styleProp","originalPropsStyleOptions","contextStyleOptions","propsStyleOptions","entries","styleOptions","baseColor","highlightColor","borderRadius","direction","duration","enableAnimation","styleOptionsToCssProperties","inline","elements","countCeil","Math","ceil","thisStyle","fractionalPart","fractionalWidth","skeletonSpan","push","el"],"sourceRoot":""}