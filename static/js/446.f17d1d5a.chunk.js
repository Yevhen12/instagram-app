"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[446],{6495:function(e,t,n){var r=n(5861),s=n(885),c=n(7757),a=n.n(c),i=n(2791),o=n(6030),u=n(5304);t.Z=function(){var e=(0,i.useContext)(u._),t=e.doc,n=e.db,c=e.collection,l=e.getDocs,d=e.getDoc,f=(0,o.v9)((function(e){return e.userReducer.user})),m=(0,i.useState)(),x=(0,s.Z)(m,2),p=(x[0],x[1]),h=function(){var e=(0,r.Z)(a().mark((function e(){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t(n,"users",f.uid),e.next=3,d(r);case 3:s=e.sent,p(s.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(a().mark((function e(t){var r,s,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return r=c(n,"users"),e.next=5,l(r);case 5:return s=e.sent,console.log(s.docs),i=s.docs.map((function(e){return e.data()})),o=i.filter((function(e){return e.uid!==f.uid&&f.following.every((function(t){return t.uid!==e.uid}))})).slice(0,t).sort((function(){return.5-Math.random()})),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetchUsers:v}}},8854:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(2791),s=n(1413),c=n(5861),a=n(885),i=n(7757),o=n.n(i),u=(n(5304),n(6030)),l=n(3504),d=n(528),f=n(795),m=n(7934),x=n(4177),p=n(184),h=function(e){var t=e.displayName,n=e.uid,s=e.imageUrl,c=e.name;console.log(t,n,s,c);var i=(0,r.useState)(!1),o=(0,a.Z)(i,2),h=o[0],v=o[1],g=(0,f.Z)({displayName:t,uid:n,imageUrl:s,name:c}).hendleFollow,j=(0,u.v9)((function(e){return e.userReducer.user})),w=j.following&&j.following.find((function(e){return e.displayName===t}));return(0,p.jsxs)("div",{className:"flex justify-between items-center w-full px-5 py-1.5",children:[(0,p.jsx)(l.rU,{to:d.Sd+t,children:(0,p.jsx)("div",{className:"rounded-full w-[44px] mr-4 overflow-hidden",children:(0,p.jsx)("img",{alt:"userImage",src:"".concat(s||"/images/standart-profile.png"),className:"h-[44px] object-cover"})})}),(0,p.jsxs)("div",{className:"flex flex-col w-full",children:[(0,p.jsx)(l.rU,{to:d.Sd+t,children:(0,p.jsx)("p",{className:"text-sm font-semibold ",children:t})}),(0,p.jsx)("p",{className:"text-sm text-gray-500/80",children:c}),(0,p.jsx)("p",{className:"text-[10px] text-gray-500/80",children:"Suggested for you"})]}),w?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{type:"button",onClick:function(){return v(!0)},className:"active:opacity-60 text-sm font-semibold border px-3.5 py-1",children:"Following"}),(0,p.jsx)(x.Z,{activeModal:h,setActiveModal:v,styleForContainerBlock:"fixed w-screen h-screen top-0 left-0 right-0 flex justify-center items-center z-10 cursor-default bg-black/60 duration-300",children:(0,p.jsx)(m.Z,{activeModal:h,imageUrl:s,displayName:t,name:c,uid:n,setActiveModal:v})})]}):(0,p.jsx)("button",{type:"button",onClick:function(){return g()},className:"active:opacity-60 text-white text-sm px-6 py-1.5 bg-[#0195f6] rounded font-semibold",children:"Follow"})]})},v=r.memo(h),g=n(6495),j=function(){var e=(0,r.useState)([]),t=(0,a.Z)(e,2),n=t[0],i=t[1],u=(0,g.Z)().fetchUsers;(0,r.useEffect)((function(){var e=function(){var e=(0,c.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(35);case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var l=(0,r.useMemo)((function(){return n.map((function(e){return(0,p.jsx)(v,(0,s.Z)({},e),e.uid)}))}),[n]);return(0,p.jsx)("div",{className:"max-w-[600px] w-full bg-whiteflex flex-col items-center border mt-3 py-3 rounded",children:l})},w=r.memo(j),y=function(){return(0,p.jsxs)("section",{className:"flex flex-col items-center px-2",children:[(0,p.jsx)("div",{className:"max-w-[600px] w-full mt-5",children:(0,p.jsx)("p",{className:"font-semibold",children:"Suggestions For You"})}),(0,p.jsx)(w,{})]})},b=r.memo(y)},2446:function(e,t,n){n.r(t);var r=n(2791),s=n(8480),c=n(8854),a=n(184),i=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{}),(0,a.jsx)(c.Z,{})]})};t.default=r.memo(i)}}]);
//# sourceMappingURL=446.f17d1d5a.chunk.js.map